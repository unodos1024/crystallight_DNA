<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>êµíšŒ ì‚¬ì—­ DNA í€´ì¦ˆ</title>
  <style>
    :root{
      --bg:#e9f7f3;--card:#fff;--accent:#0b6b5f;--btn:#0b9b7f;
      --shadow:0 6px 20px rgba(2,24,26,0.06);
    }
    body{
      font-family:system-ui,-apple-system,"Noto Sans KR",Helvetica,Arial;
      margin:0;background:linear-gradient(180deg,var(--bg),#f7fffb);
      color:#08323a;
    }
    .wrap{max-width:920px;margin:36px auto;padding:28px}
    .header{text-align:center;padding:12px 0}
    .card{background:var(--card);border-radius:16px;padding:22px;box-shadow:var(--shadow)}
    .question{font-size:20px;font-weight:700;margin-bottom:18px}
    .controls{display:flex;gap:12px}
    .btn{flex:1;padding:12px;border-radius:10px;border:0;font-weight:700;cursor:pointer;transition:.25s}
    .btn.yes{background:var(--btn);color:white}
    .btn.no{background:#e6f3f0;color:var(--accent)}
    .btn:hover{opacity:0.9;transform:scale(1.02)}
    .meta{margin-top:14px;color:#346a63}
    .result-grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));}
    .result-card{background:linear-gradient(180deg,#f2fff8,#ffffff);border-radius:16px;padding:20px;text-align:center;box-shadow:var(--shadow);transition:.3s}
    .result-card:hover{transform:translateY(-5px);}
    .result-icon{font-size:42px;margin-bottom:10px}
    .result-card h3{margin:0;font-size:20px;color:var(--accent)}
    .result-card p{font-size:14px;color:#2b5854;margin-top:6px}
    .actions{display:flex;gap:10px;margin-top:22px;justify-content:center;flex-wrap:wrap}
    .restart{background:#fff;border:1px solid #ddd;padding:8px 16px;border-radius:8px;cursor:pointer;transition:.2s}
    .restart:hover{background:#f3f8f6}
    .breadcrumb{font-size:13px;color:#4d7b75;margin-bottom:8px}
    @media(max-width:520px){.question{font-size:18px}}
  </style>
  <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
</head>
<body>
  <div id="app" class="wrap">
    <div class="header">
      <h1>êµíšŒ ì‚¬ì—­ ë§¤ì¹­ í€´ì¦ˆ</h1>
      <p style="font-size:14px;color:#557872">ì§ˆë¬¸ì— ë”°ë¼ ì„ íƒí•˜ë©´ ì¶”ì²œ ì‚¬ì—­ì„ ì•ˆë‚´í•©ë‹ˆë‹¤</p>
    </div>

    <div class="card">
      <template v-if="!finished">
        <div class="breadcrumb">ì§„í–‰: {{path.map(p=>p.label).join(' â†’ ') || 'ì‹œì‘'}}</div>
        <div class="question">Q{{current.id}}. {{current.text}}</div>
        <div class="controls">
          <button class="btn yes" @click="choose('yes')">ë„¤</button>
          <button class="btn no" @click="choose('no')">ì•„ë‹ˆì˜¤</button>
        </div>
      </template>

      <template v-else>
        <div style="text-align:center">
          <h2 style="color:var(--accent);margin-bottom:12px">âœ¨ ë‹¹ì‹ ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ì‚¬ì—­ âœ¨</h2>
          <div class="result-grid">
            <div v-for="(r,i) in results" :key="i" class="result-card">
              <div class="result-icon">{{getIcon(r)}}</div>
              <h3>{{r}}</h3>
              <p>{{getDescription(r)}}</p>
            </div>
          </div>
          <div class="actions">
            <button class="restart" @click="restart()">ğŸ”„ ì²˜ìŒìœ¼ë¡œ</button>
            <button class="restart" @click="copyResult()">ğŸ“‹ ê²°ê³¼ ë³µì‚¬</button>
            <button class="restart" @click="shareKakao()">ğŸ’¬ ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
          </div>
        </div>
      </template>
    </div>

    <p style="text-align:center;margin-top:12px;color:#5b7f78;font-size:13px">ê°„ë‹¨í•œ Vue ê¸°ë°˜ ì‹±ê¸€í˜ì´ì§€ ì˜ˆì œ â€” GitHub Pages ë°°í¬ ê°€ëŠ¥</p>
  </div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <script>
    const { createApp, ref, computed } = Vue;

    const TREE = { /* ìƒëµ - ê¸°ì¡´ íŠ¸ë¦¬ ë°ì´í„° ë™ì¼ */ };
    const DESCRIPTIONS = { /* ìƒëµ - ê¸°ì¡´ ë‚´ìš© ë™ì¼ */ };
    const ICONS = { /* ìƒëµ - ê¸°ì¡´ ë‚´ìš© ë™ì¼ */ };

    createApp({
      setup(){
        const currentId = ref(1);
        const finished = ref(false);
        const results = ref([]);
        const path = ref([]);
        const current = computed(()=> TREE.nodes[currentId.value]);

        function choose(choice){
          const node = current.value;
          path.value.push({id: node.id, label: `Q${node.id}`});
          let next = (choice === 'yes') ? node.yes : node.no;
          if(next && next.result){ results.value = next.result; finished.value = true; return; }
          if(typeof next === 'number'){ currentId.value = next; return; }
          results.value = ['ì¶”ì²œ ì‚¬ì—­ì´ ì—†ìŠµë‹ˆë‹¤']; finished.value = true;
        }

        function restart(){ currentId.value = 1; finished.value = false; results.value = []; path.value = [] }

        function copyResult(){
          const text = `ì¶”ì²œ ì‚¬ì—­: ${results.value.join(', ')}\nê²½ë¡œ: ${path.value.map(p=>p.label).join(' â†’ ')}`;
          navigator.clipboard?.writeText(text).then(()=> alert('ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.'));
        }

        function shareKakao(){
          if(!window.Kakao.isInitialized()){
            Kakao.init('YOUR_KAKAO_JAVASCRIPT_KEY'); // ì¹´ì¹´ì˜¤ JavaScript í‚¤ ì…ë ¥ í•„ìš”
          }
          const desc = results.value.join(', ');
          Kakao.Share.sendDefault({
            objectType: 'feed',
            content: {
              title: 'êµíšŒ ì‚¬ì—­ DNA í€´ì¦ˆ ê²°ê³¼',
              description: `âœ¨ ì¶”ì²œ ì‚¬ì—­: ${desc}`,
              imageUrl: 'https://yourdomain.com/share-thumbnail.png', // ê³µìœ ìš© ì´ë¯¸ì§€
              link: {
                mobileWebUrl: window.location.href,
                webUrl: window.location.href
              }
            },
            buttons: [
              {
                title: 'ê²°ê³¼ ë³´ê¸°',
                link: {
                  mobileWebUrl: window.location.href,
                  webUrl: window.location.href
                }
              }
            ]
          });
        }

        function getDescription(r){ return DESCRIPTIONS[r] || 'ì‚¬ì—­ ì„¤ëª…ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.' }
        function getIcon(r){ return ICONS[r] || 'âœ¨' }

        return {current,choose,finished,results,restart,copyResult,shareKakao,path,getDescription,getIcon}
      }
    }).mount('#app')
  </script>
</body>
</html>
